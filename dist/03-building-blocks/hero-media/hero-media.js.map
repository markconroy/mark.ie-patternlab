{"version":3,"sources":["03-building-blocks/hero-media/hero-media.js"],"names":["Drupal","behaviors","heromedia","attach","animateScroll","elem","style","unit","from","to","time","prop","start","Date","getTime","timer","setInterval","step","Math","min","clearInterval","heroBlocks","document","querySelectorAll","forEach","heroBlock","classList","contains","add","heroReadMore","querySelector","readMoreBtn","onclick","ev","readMoreBtnParent","target","closest","scrollTarget","nextElementSibling","scrollingElement","documentElement","offsetTop"],"mappings":"aAAA,CAAC,SAAyBA,CAAzB,CAAiC,CAChCA,CAAM,CAACC,SAAP,CAAiBC,SAAjB,CAA6B,CAC3BC,MAD2B,kBACX,CA+Bd;AACA,QAASC,CAAAA,CAAT,CAAuBC,CAAvB,CAA6BC,CAA7B,CAAoCC,CAApC,CAA0CC,CAA1C,CAAgDC,CAAhD,CAAoDC,CAApD,CAA0DC,CAA1D,CAAgE,CAC9D,GAAKN,CAAL,EAGA,GAAIO,CAAAA,CAAK,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EAAZ,CACAC,CAAK,CAAGC,WAAW,CAAC,UAAY,CAC5B,GAAIC,CAAAA,CAAI,CAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,CAAY,CAAC,GAAIN,CAAAA,IAAJ,GAAWC,OAAX,GAAuBF,CAAxB,EAAiCF,CAA7C,CAAX,CACIC,CAFwB,CAGxBN,CAAI,CAACC,CAAD,CAAJ,CAAeE,CAAI,CAAGS,CAAI,EAAIR,CAAE,CAAGD,CAAT,CAAZ,CAA4BD,CAHlB,CAKxBF,CAAI,CAACC,KAAL,CAAWA,CAAX,EAAqBE,CAAI,CAAGS,CAAI,EAAIR,CAAE,CAAGD,CAAT,CAAZ,CAA4BD,CALxB,CAOf,CAAT,GAAAU,CAPwB,EAQxBG,aAAa,CAACL,CAAD,CAEpB,CAVkB,CAUhB,EAVgB,CADnB,CAYIJ,CAfJ,CAgBMN,CAAI,CAACC,CAAD,CAAJ,CAAcE,CAAI,CAACD,CAhBzB,CAkBMF,CAAI,CAACC,KAAL,CAAWA,CAAX,EAAoBE,CAAI,CAACD,CAlB/B,CAoBD,CApDD,GAAMc,CAAAA,CAAU,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,CAAnB,CAEA;AACAF,CAAU,CAACG,OAAX,CAAmB,SAAAC,CAAS,CAAI,CACzBA,CAAS,CAACC,SAAV,CAAoBC,QAApB,CAA6B,eAA7B,CADyB,EAE5BF,CAAS,CAACC,SAAV,CAAoBE,GAApB,CAAwB,eAAxB,CAF4B,CAK9B,GAAMC,CAAAA,CAAY,CAAGJ,CAAS,CAACK,aAAV,CAAwB,mBAAxB,CAArB,CACKD,CAAY,CAACH,SAAb,CAAuBC,QAAvB,CAAgC,qBAAhC,CANyB,EAO5BE,CAAY,CAACH,SAAb,CAAuBE,GAAvB,CAA2B,qBAA3B,CAP4B,CAU9B;AACA,GAAMG,CAAAA,CAAW,CAAGN,CAAS,CAACK,aAAV,CAAwB,sBAAxB,CAApB,CAEAC,CAAW,CAACC,OAAZ,CAAsB,SAACC,CAAD,CAAQ,CAC5B;AAD4B,GAEtBC,CAAAA,CAAiB,CAAGD,CAAE,CAACE,MAAH,CAAUC,OAAV,CAAkB,oBAAlB,CAFE,CAItBC,CAAY,CAAGH,CAAiB,CAACI,kBAJX,CAG5B;AAIID,CAPwB,EAS1BjC,CAAa,CAACkB,QAAQ,CAACiB,gBAAT,EAA6BjB,QAAQ,CAACkB,eAAvC,CAAwD,WAAxD,CAAqE,EAArE,CAAyE,CAAzE,CAA4EH,CAAY,CAACI,SAAzF,CAAoG,CAApG,IAEhB,CACF,CAzBD,CAmDD,CAxD0B,CA0D9B,CA3DD,EA2DGzC,MA3DH,C","sourcesContent":["(function heromediaScript(Drupal) {\n  Drupal.behaviors.heromedia = {\n    attach(context) {\n      const heroBlocks = document.querySelectorAll('.hero-media');\n\n      // Adds JS class to each one of the existing building blocks\n      heroBlocks.forEach(heroBlock => {\n        if (!heroBlock.classList.contains('js-hero-media')) {\n          heroBlock.classList.add('js-hero-media');\n        }\n\n        const heroReadMore = heroBlock.querySelector('.hero-media__more');\n        if (!heroReadMore.classList.contains('js-hero-media__more')) {\n          heroReadMore.classList.add('js-hero-media__more');\n        }\n\n        // Target Read More button inside Hero Media\n        const readMoreBtn = heroBlock.querySelector('.js-hero-media__more');\n\n        readMoreBtn.onclick = (ev) => {\n          // Gets button parent\n          const readMoreBtnParent = ev.target.closest('div.building-block');\n          // Gets next building block\n          const scrollTarget = readMoreBtnParent.nextElementSibling;\n\n          // Checks if there is actually a Building block next to it\n          if (scrollTarget) {\n            // Calls function previously declared\n            animateScroll(document.scrollingElement || document.documentElement, 'scrollTop', '', 0, scrollTarget.offsetTop, 0, true);\n          }\n        }\n      });\n\n      // Does the calculation of the element position and the time being clicked\n      function animateScroll(elem, style, unit, from, to, time, prop) {\n        if (!elem) {\n            return;\n        }\n        var start = new Date().getTime(),\n        timer = setInterval(function () {\n            var step = Math.min(1, (new Date().getTime() - start) / time);\n            if (prop) {\n                elem[style] = (from + step * (to - from))+unit;\n            } else {\n                elem.style[style] = (from + step * (to - from))+unit;\n            }\n            if (step === 1) {\n                clearInterval(timer);\n            }\n        }, 10);\n        if (prop) {\n              elem[style] = from+unit;\n        } else {\n              elem.style[style] = from+unit;\n        }\n      }\n\n    }\n  };\n})(Drupal);\n"],"file":"hero-media.js"}