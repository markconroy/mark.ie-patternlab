{%
set classes = [
  'node',
  'node--type-' ~ node.bundle|clean_class,
  node.isPromoted ? 'node--promoted',
  node.isSticky ? 'node--sticky',
  not node.isPublished ? 'node--unpublished',
  view_mode ? 'node--view-mode-' ~ view_mode|clean_class,
]
%}

<article{{ attributes.addClass(classes) }}>

  {% if display_submitted %}
    <div class="layout-contained--small padding">
      <footer class="node__meta">
        <div class="node__meta--published">
          Published: {{ node.created.value|date("D d M Y") }}
        </div>
      </footer>
    </div>
  {% endif %}

  {{ title_prefix }}
    <h1{{ title_attributes.addClass('padding') }}>{{ label }}</h1>
  {{ title_suffix }}

  {% if intro %}
    {{ intro }}
  {% endif %}

  {% if main_image %}
    <div class="layout-contained--medium">
      {{ main_image }}
    </div>
  {% endif %}

  {% block building_blocks %}
    <div class="building-blocks">
      {% for building_block in building_blocks %}
        <div class="building-block">
          {{ building_block }}
        </div>
      {% endfor %}
    </div>
  {% endblock %}

  <div class="layout-contained--small padding">
    <div class="bulky bg-tertiary">
      <p>If you like what I write, you might like to <a href="https://twitter.com/markconroy">follow me on Twitter @markconroy</a></p>
      <a href="https://twitter.com/markconroy?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @markconroy</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
  </div>
  <div class="layout-contained--small padding">
    {{ content.field_tags }}
  </div>

  <div class="layout-contained--small padding">
    {{ content.comment }}
  </div>

</article>
